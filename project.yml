title: "Databot: An automatic recommender for papers about new datasets"
description: "Using Prodigy, spaCy, and arxiv to automatically detect new papers about datasets."

# Variables can be referenced across the project.yml using ${vars.var_name}
vars:
  dataset: "dataset_papers"

# These are the directories that the project needs. The project CLI will make
# sure that they always exist.
directories: ["scripts", "assets", "data", "training"]

# Assets that should be downloaded or available in the directory. You can replace
# this with your own input data.
assets:
  - dest: ""
    description: ""

# Project commands, specified in a style similar to CI config files (e.g. Azure
# pipelines). The name is the command name that lets you trigger the command
# via "spacy project run [command] [path]". The help message is optional and
# shown when executing "spacy project run [optional command] [path] --help".
commands:
  - name: "data"
    help: "Create the dataset from arxiv query."
    script:
      - "python scripts/data.py"
    outputs:
      - "assets/data.jsonl"
  - name: "preprocess"
    help: "Process data into Prodigy format."
    script:
      - "python scripts/preprocess.py"
    outputs:
      - "assets/data.jsonl"
  - name: "annotate"
    help: "Annotate prodigy with custom recipe."
    script:
      - "prodigy render_html ${vars.dataset} assets/data.jsonl -F recipes/textcat_arxiv.py"
    deps:
      - "assets/data.jsonl"
  - name: "db_out"
    help: "Export Prodigy annotations to a jsonl file."
    script:
      - "prodigy db_out ${vars.dataset} data/"
  - name: "train"
    help: "Train a spaCy textcat model with Prodigy annotations."
    script:
      - "python -m prodigy train --textcat-multilabel ${vars.dataset} training/"
    
